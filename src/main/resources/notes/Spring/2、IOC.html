<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3217"/>
<h1>2、IOC</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2017/6/12 15:29</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2017/6/12 17:00</i></td></tr>
<tr><td><b>作者：</b></td><td><i>雷丰阳</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div>Spring（IOC+AOP）；</div><div><img src="2、IOC_files/Image.png" type="image/png" style="height: auto;"/></div><div>IOC：（Inversion（反转） Of  Control）：控制反转；</div><div>          控制：资源的获取方式；</div><div>                    主动式：（要什么资源都自己创建即可）</div><div>                              BookServlet{</div><div>                                        BookService bs = new BookService();</div><div>                                        AirPlane ap = new AirPlane();//复杂对象的创建是比较庞大的工程；</div><div>                              }</div><div>                    被动式：资源的获取不是我们自己创建，而是交给一个容器来创建和设置；</div><div>                              BookServlet{</div><div>                                        BookService bs;</div><div>                                        public void test01(){</div><div>                                                      bs.checkout();// </div><div>                                        }</div><div>                              }</div><div>     容器：管理所有的组件（有功能的类）；假设，BookServlet受容器管理，BookService也受容器管理；容器可以自动的探查出那些组件（类）需要用到另一写组件（类）；容器帮我们创建BookService对象，并把BookService对象赋值过去；</div><div><br/></div><div>容器：主动的new资源变为被动的接受资源；</div><div><br/></div><div>（容器）婚介所；</div><div>              主动获取变为被动接受；</div><div>               </div><div><br/></div><div>                    </div><div>DI：（Dependency Injection）依赖注入；</div><div>          容器能知道哪个组件（类）运行的时候，需要另外一个类（组件）；容器通过反射的形式，将容器中准备好的BookService对象注入（利用反射给属性赋值）到BookServlet中；</div><div><br/></div><div><br/></div><div>只要IOC容器管理的组件，都能使用容器提供的强大功能；</div><div><br/></div><div><hr/></div><div>HelloWorld；（通过各种方式给容器中注册对象（注册会员））</div><div>以前是自己new 对象，现在所有的对象交给容器创建；<span style="color: rgb(156, 0, 76);">给容器中注册组件</span></div><div><br/></div><div>以后框架编写流程；</div><div><img src="2、IOC_files/Image [1].png" type="image/png" style="height: auto;"/></div><div>HelloWorld；</div><div><br/></div><div>1）、导包</div><div align="left" style="min-height: 18pt;"><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>核心容器</div><div>spring-beans-4.0.0.RELEASE.jar</div><div>spring-context-4.0.0.RELEASE.jar</div><div>spring-core-4.0.0.RELEASE.jar</div><div>spring-expression-4.0.0.RELEASE.jar</div><div>commons-logging-1.1.3.jar</div><div>Spring运行的时候依赖一个日志包；没有就报错；</div></div><div><br/></div></div><div><br/></div><div>2）、写配置</div><div>     spring的配置文件中，集合了spring的ioc容器管理的所有组件（会员清单）；</div><div>     创建一个Spring Bean Configuration File（Spring的bean配置文件）；</div><div><br/></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">&lt;!-- 注册一个Person对象，Spring会自动创建这个Person对象 --&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">&lt;!--</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">    一个Bean标签可以注册一个组件（对象、类） </span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">    class：写要注册的组件的全类名</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">    id：这个对象的唯一标示；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">    --&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">bean</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">id</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;person01&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">class</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;com.atguigu.bean.Person&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">&lt;!--使用property标签为Person对象的属性赋值 </span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">            name=&quot;lastName&quot;：指定属性名</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">            value=&quot;张三&quot;：为这个属性赋值</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">        --&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">name</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;lastName&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">value</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;张三&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">name</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;age&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">value</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;18&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">name</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;email&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">value</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;zhangsan@atguigu.com&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">name</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;gender&quot;</i></span></font> <font color="#7F007F" face="Consolas" size="4"><span style="font-size:16pt">value</span></font><font face="Consolas" size="4"><span style="font-size:16pt">=</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt"><i>&quot;男&quot;</i></span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">property</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div><div align="left" style="min-height: 18pt;"><div><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&lt;/</span></font><font color="#3F7F7F" face="Consolas" size="4"><span style="font-size:16pt">bean</span></font><font color="#008080" face="Consolas" size="4"><span style="font-size:16pt">&gt;</span></font></div></div><div><br/></div><div><br/></div><div>3）、测试</div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>package</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">com.atguigu.test;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>static</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt"><u>org.junit.Assert</u></span><span style="font-size:16pt">.*;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.junit.Test;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.springframework.context.ApplicationContext;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.springframework.context.support.ClassPathXmlApplicationContext;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">com.atguigu.bean.Person;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">IOCTest {</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">/**</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 从容器中拿到这个组件</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     */</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#646464" face="Consolas" size="4"><span style="font-size:16pt">@Test</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">test() {</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//ApplicationContext：代表</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//ClassPathXmlApplicationContext:当前应用的</span><span style="font-size:16pt"><u>xml</u></span><span style="font-size:16pt">配置文件在 ClassPath下</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//根据spring的配置文件得到</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器对象</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        ApplicationContext</span> <span style="font-size:16pt"><u>ioc</u></span> <span style="font-size:16pt">=</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>new</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">ClassPathXmlApplicationContext(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;ioc.xml&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//容器帮我们创建好对象了；</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        Person bean = (Person) ioc.getBean(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;person01&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        System.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:16pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:16pt">.println(bean);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    }</span></font></div><div align="left" style="min-height: 18pt;"><div><font face="Consolas" size="4"><span style="font-size:16pt">}</span></font></div><div><span style="font-size: 16pt;"><span style="font-family: Consolas;"><br/></span></span></div><div><hr/></div><div><img src="2、IOC_files/Image [2].png" type="image/png"/></div><div><b>new ClassPathXMlApplicationContext(&quot;ioc.xml&quot;)；ioc容器的配置文件在类路径下；</b></div><div>FileSystemXmlApplicationContext(&quot;F://ioc.xml&quot;)；ioc容器的配置文件在磁盘路径下；</div></div><div><br/></div><div><hr/></div><div><br/></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>package</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">com.atguigu.test;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.junit.Test;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.springframework.context.ApplicationContext;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">org.springframework.context.support.ClassPathXmlApplicationContext;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>import</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">com.atguigu.bean.Person;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>class</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">IOCTest {</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">/**</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 存在的几个问题；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 1）、</span><span style="font-size:16pt"><u>src</u></span><span style="font-size:16pt">，源码包开始的路径，称为类路径的开始；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      所有源码包里面的东西都会被合并放在类路径里面；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      java：/bin/</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      web：/WEB</span></font><font color="#7F7F9F" face="Consolas" size="4"><span style="font-size:16pt">-</span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">INF/classes/</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 2）、导包commons</span></font><font color="#7F7F9F" face="Consolas" size="4"><span style="font-size:16pt">-</span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">logging</span></font><font color="#7F7F9F" face="Consolas" size="4"><span style="font-size:16pt">-</span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">1.1.3.jar（依赖）</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 3）、先导包再创建配置文件；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 4）、Spring的容器接管了标志了s的类；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     */</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">/**</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 几个细节：</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 1）、ApplicationContext（IOC容器的接口）</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 2）、给容器中注册一个组件；我们也从容器中按照id拿到了这个组件的对象？</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      组件的创建工作，是容器完成；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      Person对象是什么时候创建好了呢？</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      容器中对象的创建在容器创建完成的时候就已经创建好了；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 3）、同一个组件在</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器中是单实例的；容器启动完成都已经创建准备好的；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 4）、容器中如果没有这个组件，获取组件？报异常</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * org.springframework.beans.factory.NoSuchBeanDefinitionException:</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * No bean named 'person03' is defined</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 5）、</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器在创建这个组件对象的时候，(property)会利用setter方法为javaBean的属性进行赋值；</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 6）、javaBean的属性名是由什么决定的？getter/setter方法是属性名;set去掉后面那一串首字母小写就是属性名;</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      private String lastName;？</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     *      所有getter/setter都自动生成！</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     */</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">/**</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     * 从容器中拿到这个组件</span></font></div><div align="left" style="min-height: 18pt;"><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">     */</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#646464" face="Consolas" size="4"><span style="font-size:16pt">@Test</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    </span></font><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>public</b></span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>void</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">test() {</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//ApplicationContext：代表</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//ClassPathXmlApplicationContext:当前应用的</span><span style="font-size:16pt"><u>xml</u></span><span style="font-size:16pt">配置文件在 ClassPath下</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//根据spring的配置文件得到</span><span style="font-size:16pt"><u>ioc</u></span><span style="font-size:16pt">容器对象</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//ApplicationContext</span> <span style="font-size:16pt"><u>ioc</u></span> <span style="font-size:16pt">= new ClassPathXmlApplicationContext(&quot;</span><span style="font-size:16pt"><u>com</u></span><span style="font-size:16pt">/</span><span style="font-size:16pt"><u>atguigu</u></span><span style="font-size:16pt">/bean/ioc.xml&quot;);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        ApplicationContext</span> <span style="font-size:16pt"><u>ioc</u></span> <span style="font-size:16pt">=</span></font> <font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>new</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">ClassPathXmlApplicationContext(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;ioc.xml&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font><font color="#3F7F5F" face="Consolas" size="4"><span style="font-size:16pt">//容器帮我们创建好对象了；</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        System.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:16pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:16pt">.println(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;容器启动完成....&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        Person bean = (Person) ioc.getBean(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;person01&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        Object bean2 = ioc.getBean(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;person01&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        System.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:16pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:16pt">.println(bean == bean2);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font></div><div align="left" style="min-height: 11pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        System.</span></font><font color="#0000C0" face="Consolas" size="4"><span style="font-size:16pt"><i>out</i></span></font><font face="Consolas" size="4"><span style="font-size:16pt">.println(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;==================&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        Object</span> <span style="font-size:16pt"><u>bean3</u></span> <span style="font-size:16pt">= ioc.getBean(</span></font><font color="#2A00FF" face="Consolas" size="4"><span style="font-size:16pt">&quot;person03&quot;</span></font><font face="Consolas" size="4"><span style="font-size:16pt">);</span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">        </span></font></div><div align="left" style="min-height: 18pt;"><font face="Consolas" size="4"><span style="font-size:16pt">    }</span></font></div><div align="left" style="min-height: 18pt;"><div><font face="Consolas" size="4"><span style="font-size:16pt">}</span></font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 